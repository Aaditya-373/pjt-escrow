{
  "_format": "hh-sol-artifact-1",
  "contractName": "TokenPriceManager",
  "sourceName": "contracts/TokenPriceManager.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_token",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_escrow",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_beneficiary",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_initialPrice",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "beneficiary",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "MilestonePayment",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newPrice",
          "type": "uint256"
        }
      ],
      "name": "PriceUpdated",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "beneficiary",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "escrow",
      "outputs": [
        {
          "internalType": "contract EscrowWallet",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTokenPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "initialTokenPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "token",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "tokenPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalDeposited",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amountDeposited",
          "type": "uint256"
        }
      ],
      "name": "updatePriceOnDeposit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amountWithdrawn",
          "type": "uint256"
        }
      ],
      "name": "updatePriceOnWithdrawal",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60806040523480156200001157600080fd5b5060405162000bed38038062000bed8339818101604052810190620000379190620001b6565b836000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555082600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600381905550806004819055505050505062000228565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000620001438262000116565b9050919050565b620001558162000136565b81146200016157600080fd5b50565b60008151905062000175816200014a565b92915050565b6000819050919050565b62000190816200017b565b81146200019c57600080fd5b50565b600081519050620001b08162000185565b92915050565b60008060008060808587031215620001d357620001d262000111565b5b6000620001e38782880162000164565b9450506020620001f68782880162000164565b9350506040620002098782880162000164565b92505060606200021c878288016200019f565b91505092959194509250565b6109b580620002386000396000f3fe608060405234801561001057600080fd5b50600436106100935760003560e01c8063700c877b11610066578063700c877b1461010e5780637ff9b5961461012a578063e2fdcc1714610148578063fc0c546a14610166578063ff50abdc1461018457610093565b80632ca0228a1461009857806333ceab93146100b657806338af3eed146100d25780634b94f50e146100f0575b600080fd5b6100a06101a2565b6040516100ad91906105fc565b60405180910390f35b6100d060048036038101906100cb9190610648565b6101a8565b005b6100da6103ee565b6040516100e791906106b6565b60405180910390f35b6100f8610414565b60405161010591906105fc565b60405180910390f35b61012860048036038101906101239190610648565b61041e565b005b61013261058d565b60405161013f91906105fc565b60405180910390f35b610150610593565b60405161015d9190610730565b60405180910390f35b61016e6105b9565b60405161017b919061076c565b60405180910390f35b61018c6105dd565b60405161019991906105fc565b60405180910390f35b60045481565b80600560008282546101ba91906107b6565b9250508190555060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561022f573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061025391906107ff565b9050600a81670de0b6b3a764000060055461026e919061082c565b610278919061089d565b610282919061089d565b60045461028f91906107b6565b6003819055507f66cbca4f3c64fecf1dcb9ce094abcf7f68c3450a1d4e3a8e917dd621edb4ebe06003546040516102c691906105fc565b60405180910390a16000600a600b6004546102e1919061082c565b6102eb919061089d565b905080600354106103e9576000600a84610305919061089d565b9050600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f1935050505015801561036f573d6000803e3d6000fd5b50600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167fe55ff739743b681568df2ddb431c4110cef072d9a355c3088b4b6bd3275b79b4826040516103d891906105fc565b60405180910390a281600481905550505b505050565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600354905090565b806005541015610463576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161045a9061092b565b60405180910390fd5b8060056000828254610475919061094b565b9250508190555060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156104ea573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061050e91906107ff565b9050600a81670de0b6b3a7640000600554610529919061082c565b610533919061089d565b61053d919061089d565b60045461054a919061094b565b6003819055507f66cbca4f3c64fecf1dcb9ce094abcf7f68c3450a1d4e3a8e917dd621edb4ebe060035460405161058191906105fc565b60405180910390a15050565b60035481565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60055481565b6000819050919050565b6105f6816105e3565b82525050565b600060208201905061061160008301846105ed565b92915050565b600080fd5b610625816105e3565b811461063057600080fd5b50565b6000813590506106428161061c565b92915050565b60006020828403121561065e5761065d610617565b5b600061066c84828501610633565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006106a082610675565b9050919050565b6106b081610695565b82525050565b60006020820190506106cb60008301846106a7565b92915050565b6000819050919050565b60006106f66106f16106ec84610675565b6106d1565b610675565b9050919050565b6000610708826106db565b9050919050565b600061071a826106fd565b9050919050565b61072a8161070f565b82525050565b60006020820190506107456000830184610721565b92915050565b6000610756826106fd565b9050919050565b6107668161074b565b82525050565b6000602082019050610781600083018461075d565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006107c1826105e3565b91506107cc836105e3565b92508282019050808211156107e4576107e3610787565b5b92915050565b6000815190506107f98161061c565b92915050565b60006020828403121561081557610814610617565b5b6000610823848285016107ea565b91505092915050565b6000610837826105e3565b9150610842836105e3565b9250828202610850816105e3565b9150828204841483151761086757610866610787565b5b5092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b60006108a8826105e3565b91506108b3836105e3565b9250826108c3576108c261086e565b5b828204905092915050565b600082825260208201905092915050565b7f5769746864726177616c2065786365656473206465706f736974730000000000600082015250565b6000610915601b836108ce565b9150610920826108df565b602082019050919050565b6000602082019050818103600083015261094481610908565b9050919050565b6000610956826105e3565b9150610961836105e3565b925082820390508181111561097957610978610787565b5b9291505056fea2646970667358221220ad8f46f5dbab000136bb88b268a2dd844f0a07aeb5dda3a77fe3f734ff7ffebe64736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100935760003560e01c8063700c877b11610066578063700c877b1461010e5780637ff9b5961461012a578063e2fdcc1714610148578063fc0c546a14610166578063ff50abdc1461018457610093565b80632ca0228a1461009857806333ceab93146100b657806338af3eed146100d25780634b94f50e146100f0575b600080fd5b6100a06101a2565b6040516100ad91906105fc565b60405180910390f35b6100d060048036038101906100cb9190610648565b6101a8565b005b6100da6103ee565b6040516100e791906106b6565b60405180910390f35b6100f8610414565b60405161010591906105fc565b60405180910390f35b61012860048036038101906101239190610648565b61041e565b005b61013261058d565b60405161013f91906105fc565b60405180910390f35b610150610593565b60405161015d9190610730565b60405180910390f35b61016e6105b9565b60405161017b919061076c565b60405180910390f35b61018c6105dd565b60405161019991906105fc565b60405180910390f35b60045481565b80600560008282546101ba91906107b6565b9250508190555060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561022f573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061025391906107ff565b9050600a81670de0b6b3a764000060055461026e919061082c565b610278919061089d565b610282919061089d565b60045461028f91906107b6565b6003819055507f66cbca4f3c64fecf1dcb9ce094abcf7f68c3450a1d4e3a8e917dd621edb4ebe06003546040516102c691906105fc565b60405180910390a16000600a600b6004546102e1919061082c565b6102eb919061089d565b905080600354106103e9576000600a84610305919061089d565b9050600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f1935050505015801561036f573d6000803e3d6000fd5b50600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167fe55ff739743b681568df2ddb431c4110cef072d9a355c3088b4b6bd3275b79b4826040516103d891906105fc565b60405180910390a281600481905550505b505050565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600354905090565b806005541015610463576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161045a9061092b565b60405180910390fd5b8060056000828254610475919061094b565b9250508190555060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156104ea573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061050e91906107ff565b9050600a81670de0b6b3a7640000600554610529919061082c565b610533919061089d565b61053d919061089d565b60045461054a919061094b565b6003819055507f66cbca4f3c64fecf1dcb9ce094abcf7f68c3450a1d4e3a8e917dd621edb4ebe060035460405161058191906105fc565b60405180910390a15050565b60035481565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60055481565b6000819050919050565b6105f6816105e3565b82525050565b600060208201905061061160008301846105ed565b92915050565b600080fd5b610625816105e3565b811461063057600080fd5b50565b6000813590506106428161061c565b92915050565b60006020828403121561065e5761065d610617565b5b600061066c84828501610633565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006106a082610675565b9050919050565b6106b081610695565b82525050565b60006020820190506106cb60008301846106a7565b92915050565b6000819050919050565b60006106f66106f16106ec84610675565b6106d1565b610675565b9050919050565b6000610708826106db565b9050919050565b600061071a826106fd565b9050919050565b61072a8161070f565b82525050565b60006020820190506107456000830184610721565b92915050565b6000610756826106fd565b9050919050565b6107668161074b565b82525050565b6000602082019050610781600083018461075d565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006107c1826105e3565b91506107cc836105e3565b92508282019050808211156107e4576107e3610787565b5b92915050565b6000815190506107f98161061c565b92915050565b60006020828403121561081557610814610617565b5b6000610823848285016107ea565b91505092915050565b6000610837826105e3565b9150610842836105e3565b9250828202610850816105e3565b9150828204841483151761086757610866610787565b5b5092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b60006108a8826105e3565b91506108b3836105e3565b9250826108c3576108c261086e565b5b828204905092915050565b600082825260208201905092915050565b7f5769746864726177616c2065786365656473206465706f736974730000000000600082015250565b6000610915601b836108ce565b9150610920826108df565b602082019050919050565b6000602082019050818103600083015261094481610908565b9050919050565b6000610956826105e3565b9150610961836105e3565b925082820390508181111561097957610978610787565b5b9291505056fea2646970667358221220ad8f46f5dbab000136bb88b268a2dd844f0a07aeb5dda3a77fe3f734ff7ffebe64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
